(this.webpackJsonppublicc=this.webpackJsonppublicc||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(0),j=n.n(c),r=n(30),a=n.n(r),s=(n(39),n(40),n(34)),o=Object(s.a)(),i=Object(c.createContext)(),u=n(20),b=n(2),d=n(3),O=n(1),l=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],j=t[1],r=Object(b.f)();return Object(O.jsxs)("div",{children:[Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r("/play?code="+n)},children:[Object(O.jsx)("h2",{children:"JOIN GAME"}),Object(O.jsx)("input",{type:"text",value:n,onChange:function(e){return j(e.target.value)},name:"code",placeholder:"Enter game code"}),Object(O.jsx)("button",{children:"Join Game"})]}),Object(O.jsx)("p",{children:"OR"}),Object(O.jsx)(u.b,{to:"/play",children:"HOST GAME"})]})},f=function(){return Object(O.jsx)("p",{children:"Loading..."})},h=function(e){var t=e.code;return Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:["Tell the other play to visit jjj.com and join with the code ",Object(O.jsx)("strong",{children:t})]}),Object(O.jsx)("p",{children:"Waiting for player to join..."})]})},x=function(e){var t=e.name,n=e.opponentName,j=Object(c.useState)(10),r=Object(d.a)(j,2),a=r[0],s=r[1];return Object(c.useEffect)((function(){var e=setInterval((function(){return s((function(e){return--e}))}),1e3);return function(){return clearInterval(e)}}),[]),Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:["Ready ! Game starts in ",Object(O.jsx)("strong",{children:a})]}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("small",{children:"You"}),Object(O.jsx)("p",{children:t})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("small",{children:"Opponent"}),Object(O.jsx)("p",{children:n})]})]})]})},p=n(26),m=n(25),v=n.n(m),g=function(e){var t=e.name,n=e.opponentName,j=e.gameCode,r=e.host,a=Object(c.useState)(0),s=Object(d.a)(a,2),o=s[0],u=s[1],b=Object(c.useState)(0),l=Object(d.a)(b,2),f=l[0],h=l[1],x=Object(c.useState)([]),m=Object(d.a)(x,2),g=m[0],S=m[1],y=Object(c.useState)(""),C=Object(d.a)(y,2),E=C[0],w=C[1],T=Object(c.useState)(""),G=Object(d.a)(T,2),M=G[0],k=G[1],I=Object(c.useContext)(i);return Object(c.useEffect)((function(){return I.emit("getScrambledWord",j),I.on("adminMessage",(function(e){var t={type:"admin",msg:e};S((function(e){return[].concat(Object(p.a)(e),[t])}))})),I.on("opponentTry",(function(e){var t={type:"opponent",msg:e};S((function(e){return[].concat(Object(p.a)(e),[t])}))})),I.on("newScrambledWord",(function(e){k(e)})),I.on("scoreUpdate",(function(e){if(e){var t=e.hostScore,n=e.playerTwoScore;u(r?t:n),h(r?n:t)}})),function(){I.off("adminMessage"),I.off("opponentTry"),I.off("newScrambledWord")}}),[]),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:"Game is live."}),Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:t}),Object(O.jsx)("p",{children:o})]}),Object(O.jsx)("div",{children:"vs"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:n}),Object(O.jsx)("p",{children:f})]})]}),Object(O.jsx)("div",{children:Object(O.jsx)(v.a,{initialTime:12e4,direction:"backward",children:Object(O.jsx)("div",{children:Object(O.jsxs)("strong",{children:[Object(O.jsx)(v.a.Minutes,{})," :",Object(O.jsx)(v.a.Seconds,{formatValue:function(e){return"".concat(e<10?" 0".concat(e):" ".concat(e))}})]})})})}),Object(O.jsxs)("div",{children:["Current word : ",Object(O.jsxs)("strong",{children:[M," "]})]}),Object(O.jsx)("div",{children:g.map((function(e,t){return"admin"===e.type?Object(O.jsxs)("p",{children:["Admin message : ",e.msg]},t):"user"===e.type?Object(O.jsxs)("p",{children:["Your message : ",e.msg]},t):Object(O.jsxs)("p",{children:["Opponent message : ",e.msg]},t)}))}),Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault(),I.emit("playerTry",{wordPick:E,gameCode:j,userId:I.id}),S((function(e){return[].concat(Object(p.a)(e),[{type:"user",msg:E}])})),w("")},children:Object(O.jsx)("input",{type:"text",placeholder:"Enter word here",value:E,onChange:function(e){return w(e.target.value)}})})]})},S=function(e){var t=e.host,n=e.gameCode,j=Object(c.useState)(""),r=Object(d.a)(j,2),a=r[0],s=r[1],o=Object(c.useContext)(i);return Object(O.jsx)("div",{children:Object(O.jsxs)("form",{onSubmit:t?function(e){e.preventDefault(),o.emit("createGame",a)}:function(e){e.preventDefault(),o.emit("joinGame",{playerName:a,gameCode:n})},children:[Object(O.jsx)("input",{value:a,onChange:function(e){return s(e.target.value)},type:"text",placeholder:"Enter your name"}),Object(O.jsx)("button",{children:t?"HOST GAME":"JOIN GAME"})]})})},y=function(){return Object(O.jsx)("div",{children:"Game results"})},C=function(){var e=Object(c.useState)(!0),t=Object(d.a)(e,2),n=t[0],j=t[1],r=Object(c.useState)(!0),a=Object(d.a)(r,2),s=a[0],o=a[1],l=Object(c.useState)(""),p=Object(d.a)(l,2),m=p[0],v=p[1],C=Object(c.useState)(""),E=Object(d.a)(C,2),w=E[0],T=E[1],G=Object(c.useState)(""),M=Object(d.a)(G,2),k=M[0],I=M[1],N=Object(c.useState)(!1),R=Object(d.a)(N,2),A=R[0],D=R[1],J=Object(c.useState)(!1),F=Object(d.a)(J,2),P=F[0],W=F[1],L=Object(c.useState)(!1),B=Object(d.a)(L,2),H=B[0],Y=B[1],U=Object(c.useState)(!1),V=Object(d.a)(U,2),q=V[0],z=V[1],K=Object(u.c)(),Q=Object(d.a)(K,2),X=Q[0],Z=(Q[1],Object(c.useContext)(i)),$=Object(b.f)();return Object(c.useEffect)((function(){var e=X.get("code");return e?(o(!1),Z.emit("checkCode",e),Z.on("checkCodeResult",(function(t){var n=t.success,c=t.msg;n?(j(!1),v(e)):(alert(c),$("/"))}))):j(!1),Z.on("gameCreated",(function(e){v(e),D(!0)})),Z.on("gameStarted",(function(){W(!1),Y(!0)})),Z.on("gameEnded",(function(){Y(!1),z(!0)})),function(){Z.off("checkCodeResult"),Z.off("gameCreated"),Z.off("gameReady"),Z.off("gameStarted"),Z.off("gameEnded")}}),[]),Object(c.useEffect)((function(){return Z.on("gameReady",(function(e){var t=e.host,n=e.playerTwo;T(s?t:n),I(s?n:t),D(!1),W(!0)})),function(){Z.off("gameReady")}}),[s]),n?Object(O.jsx)(f,{}):A?Object(O.jsx)(h,{code:m}):P?Object(O.jsx)(x,{name:w,opponentName:k}):H?Object(O.jsx)(g,{name:w,opponentName:k,gameCode:m,host:s}):q?Object(O.jsx)(y,{}):Object(O.jsx)(S,{host:s,gameCode:m})};var E=function(){return Object(c.useEffect)((function(){o.on("connect",(function(){console.log(o.id)}))}),[]),Object(O.jsx)(i.Provider,{value:o,children:Object(O.jsx)(u.a,{children:Object(O.jsxs)(b.c,{children:[Object(O.jsx)(b.a,{path:"/",element:Object(O.jsx)(l,{})}),Object(O.jsx)(b.a,{path:"/play",element:Object(O.jsx)(C,{})})]})})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,c=t.getFID,j=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),j(e),r(e),a(e)}))};a.a.render(Object(O.jsx)(j.a.StrictMode,{children:Object(O.jsx)(E,{})}),document.getElementById("root")),w()}},[[51,1,2]]]);
//# sourceMappingURL=main.5dbb743b.chunk.js.map