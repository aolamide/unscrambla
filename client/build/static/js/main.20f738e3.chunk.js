(this.webpackJsonppublicc=this.webpackJsonppublicc||[]).push([[0],{34:function(e,t,c){},35:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var n=c(0),j=c.n(n),r=c(25),a=c.n(r),o=(c(34),c(35),c(29)),i=Object(o.a)(),s=Object(n.createContext)(),u=c(19),b=c(2),O=c(3),l=c(1),d=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),c=t[0],j=t[1],r=Object(b.f)();return Object(l.jsxs)("div",{children:[Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r("/play?code="+c)},children:[Object(l.jsx)("h2",{children:"JOIN GAME"}),Object(l.jsx)("input",{type:"text",value:c,onChange:function(e){return j(e.target.value)},name:"code",placeholder:"Enter game code"}),Object(l.jsx)("button",{children:"Join Game"})]}),Object(l.jsx)("p",{children:"OR"}),Object(l.jsx)(u.b,{to:"/play",children:"HOST GAME"})]})},f=function(){return Object(l.jsx)("p",{children:"Loading..."})},h=function(e){var t=e.code;return Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:["Tell the other play to visit jjj.com and join with the code ",Object(l.jsx)("strong",{children:t})]}),Object(l.jsx)("p",{children:"Waiting for player to join..."})]})},x=function(e){var t=e.name,c=e.opponentName,j=Object(n.useState)(10),r=Object(O.a)(j,2),a=r[0],o=r[1];return Object(n.useEffect)((function(){var e=setInterval((function(){return o((function(e){return--e}))}),1e3);return function(){return clearInterval(e)}}),[]),Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:["Ready ! Game starts in ",Object(l.jsx)("strong",{children:a})]}),Object(l.jsxs)("div",{style:{display:"flex"},children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("small",{children:"You"}),Object(l.jsx)("p",{children:t})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("small",{children:"Opponent"}),Object(l.jsx)("p",{children:c})]})]})]})},p=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:"Game has started"})})},m=function(e){var t=e.host,c=e.gameCode,j=Object(n.useState)(""),r=Object(O.a)(j,2),a=r[0],o=r[1],i=Object(n.useContext)(s);return Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:t?function(e){e.preventDefault(),i.emit("createGame",a)}:function(e){e.preventDefault(),i.emit("joinGame",{playerName:a,gameCode:c})},children:[Object(l.jsx)("input",{value:a,onChange:function(e){return o(e.target.value)},type:"text",placeholder:"Enter your name"}),Object(l.jsx)("button",{children:t?"HOST GAME":"JOIN GAME"})]})})},v=function(){var e=Object(n.useState)(!0),t=Object(O.a)(e,2),c=t[0],j=t[1],r=Object(n.useState)(!0),a=Object(O.a)(r,2),o=a[0],i=a[1],d=Object(n.useState)(""),v=Object(O.a)(d,2),g=v[0],S=v[1],y=Object(n.useState)(""),C=Object(O.a)(y,2),E=C[0],G=C[1],R=Object(n.useState)(""),I=Object(O.a)(R,2),T=I[0],k=I[1],J=Object(n.useState)(!1),M=Object(O.a)(J,2),N=M[0],w=M[1],A=Object(n.useState)(!1),D=Object(O.a)(A,2),F=D[0],L=D[1],P=Object(n.useState)(!1),B=Object(O.a)(P,2),H=B[0],W=B[1],Y=Object(u.c)(),q=Object(O.a)(Y,2),z=q[0],K=(q[1],Object(n.useContext)(s)),Q=Object(b.f)();return Object(n.useEffect)((function(){var e=z.get("code");return e?(i(!1),K.emit("checkCode",e),K.on("checkCodeResult",(function(t){var c=t.success,n=t.msg;c?(j(!1),S(e)):(alert(n),Q("/"))}))):j(!1),K.on("gameCreated",(function(e){S(e),w(!0)})),K.on("gameStarted",(function(){L(!1),W(!0)})),function(){K.off("checkCodeResult"),K.off("gameCreated"),K.off("gameReady")}}),[]),Object(n.useEffect)((function(){return K.on("gameReady",(function(e){var t=e.host,c=e.playerTwo;G(o?t:c),k(o?c:t),w(!1),L(!0)})),function(){K.off("gameReady")}}),[o]),c?Object(l.jsx)(f,{}):N?Object(l.jsx)(h,{code:g}):F?Object(l.jsx)(x,{name:E,opponentName:T}):H?Object(l.jsx)(p,{}):Object(l.jsx)(m,{host:o,gameCode:g})};var g=function(){return Object(n.useEffect)((function(){i.on("connect",(function(){console.log(i.id)}))}),[]),Object(l.jsx)(s.Provider,{value:i,children:Object(l.jsx)(u.a,{children:Object(l.jsxs)(b.c,{children:[Object(l.jsx)(b.a,{path:"/",element:Object(l.jsx)(d,{})}),Object(l.jsx)(b.a,{path:"/play",element:Object(l.jsx)(v,{})})]})})})},S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,43)).then((function(t){var c=t.getCLS,n=t.getFID,j=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),j(e),r(e),a(e)}))};a.a.render(Object(l.jsx)(j.a.StrictMode,{children:Object(l.jsx)(g,{})}),document.getElementById("root")),S()}},[[42,1,2]]]);
//# sourceMappingURL=main.20f738e3.chunk.js.map